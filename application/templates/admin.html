{% extends "base.html" %}
{% block scripts %}
    <script src="{{ url_for('static', filename='admin.js') }}" type="text/javascript"></script>
{% endblock %}
{% block stylesheet %}
    <style>
        .sortKey {
            cursor: pointer;
            text-decoration: underline;
        }

        #msg {
            padding: 0  7px 0 7px;
            display: none;
            border: 3px solid rgba(0, 0, 0, 0);
            border-radius: 15px;
        }

        .msgSuc {
            color: #ffffff;
            background-color: rgb(38, 110, 0);
        }

        .msgErr {
            color: #ffffff;
            background-color: rgb(170, 1, 1);
        }

    </style>
{% endblock %}
{% block body %}

    <div class="row">
        <div class="col-md-6">
            <div class="card border-0 shadow" id="add_psy_card">
                <div class="card-body">
                    <form id="addPsyForm">

                        <h5 id="psyFormTitle" class="card-title">Добавить психолога</h5>


                        <div class="form-group">
                            <label for="psyFormLogin">Логин</label>
                            <input class="form-control" id="psyFormLogin" type="text" name="login">
                            <div id="psyFormLoginMsg" class="invalid-feedback">Такой логин уже используется</div>
                        </div>

                        <div class="form-group">
                            <label for="psyFormPas">Пароль</label>
                            <input class="form-control" id="psyFormPas" type="text" name="password" value="{{ pre_generated_pas }}">
                        </div>

                        <div class="form-group">
                            <label for="psyFormIdent">Идентификатор</label>
                            <input class="form-control" id="psyFormIdent" type="text" name="ident">
                            <div id="psyFormIdentMsg" class="invalid-feedback">Такой идентификатор уже используется</div>
                        </div>

                        <div class="form-group col-4 px-0">
                            <label for="psyFormCount">Кол-во</label>
                            <input class="form-control" id="psyFormCount" type="number" name="count">
                            <div id="psyFormCountMsg" class="invalid-feedback">Неверное значение</div>

                        </div>

                        <div class="form-group">
                            <div class="custom-control custom-checkbox mr-sm-2">
                                <input type="checkbox" class="custom-control-input" id="test1" value="1" name="t1"
                                       checked>
                                <label class="custom-control-label" for="test1">Тест 1</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="custom-control custom-checkbox mr-sm-2">
                                <input type="checkbox" class="custom-control-input" id="test2" value="2" name="t2"
                                       disabled>
                                <label class="custom-control-label" for="test2">Тест 2</label>
                            </div>
                        </div>

                            <div class="form-row align-items-center justify-content-between">
                                <div class="form-group">
                                    <input type="button" id="psyFormBtnSave" class="btn btn-primary" value="Добавить психолога" onclick="addNewPsy()">
                                    <input type="button" id="psyFormBtnDef" class="btn btn-danger" value="Отменить" onclick="setToDefault()" style="display: none">
                                </div>
                            <div class="form-group">
                                  <div id="psyFormPlaceDel" class="custom-control custom-checkbox mr-sm-2" style="display: none">
                                      <input type="checkbox" class="custom-control-input danger" id="psyFormCheckDel" value="Yes" name="del">
                                      <label class="custom-control-label" for="psyFormCheckDel">Удален</label>
                                  </div>
                              </div>
                        </div>
                    </form>
                </div>
            </div>


        </div>
        <div class="col-md-6">
            <div class="card border-0 shadow mt-md-0 mt-2">
                <div class="card-body">
                    <h5 id="statsCardTitle" class="card-title">Полная статистика</h5>
                     {% include 'stats.html' %}
                </div>
            </div>
        </div>
    </div>
    <br>

    <span id="msg"></span>

    <div id="psyTablePlace">
        <h3 class="display-4 mt-5">Список психологов</h3>

        <div class="table-responsive">
            <table class="table text-center" id="psyTable">
                <thead>
                <tr>
                    <th class="sortKey" onclick="showPsy('ident')">ID</th>
                    <th class="sortKey" onclick="showPsy('login')">Логин</th>
                    <th>Пароль</th>
                    <th class="sortKey" onclick="showPsy('count')">Доступно</th>
                    <th>Статистика</th>
                    <th>Тесты</th>
                    <th class="sortKey" onclick="showPsy('create_date')">Дата создания</th>

                    <th></th>
                </tr>

                </thead>
                <script>getPsyList()</script>

            </table>
        </div>
    </div>

    <div id="gradeTablePlace" style="display: none">
        <h3 id="gradeTableTitle" class="display-4 mt-5">Список классов</h3>
        <div class="table-responsive">
            <table id="gradeTable" class="table text-center">
                <thead>
                <tr>
                    <th scope="col"><a>Класс</a></th>
                    <th scope="col"><a>Общее Кол-во</a></th>
                    <th scope="col"><a>Нет результата</a></th>
                    <th scope="col"><a>Не рискуют</a></th>
                    <th scope="col"><a>Рискуют</a></th>
                </tr>
                </thead>
    </div>
{% endblock %}
